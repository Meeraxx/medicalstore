(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5908],{52795:function(e,n,t){"use strict";var r=t(67294),o=t(73935),i=t(30626),a=t(17294),c=t(55192);function l(e){return e.substring(2).toLowerCase()}n.Z=function(e){var n=e.children,t=e.disableReactTree,u=void 0!==t&&t,s=e.mouseEvent,d=void 0===s?"onClick":s,f=e.onClickAway,v=e.touchEvent,p=void 0===v?"onTouchEnd":v,h=r.useRef(!1),m=r.useRef(null),g=r.useRef(!1),y=r.useRef(!1);r.useEffect((function(){return setTimeout((function(){g.current=!0}),0),function(){g.current=!1}}),[]);var b=r.useCallback((function(e){m.current=o.findDOMNode(e)}),[]),_=(0,a.Z)(n.ref,b),C=(0,c.Z)((function(e){var n=y.current;if(y.current=!1,g.current&&m.current&&!function(e){return document.documentElement.clientWidth<e.clientX||document.documentElement.clientHeight<e.clientY}(e))if(h.current)h.current=!1;else{var t;if(e.composedPath)t=e.composedPath().indexOf(m.current)>-1;else t=!(0,i.Z)(m.current).documentElement.contains(e.target)||m.current.contains(e.target);t||!u&&n||f(e)}})),x=function(e){return function(t){y.current=!0;var r=n.props[e];r&&r(t)}},S={ref:_};return!1!==p&&(S[p]=x(p)),r.useEffect((function(){if(!1!==p){var e=l(p),n=(0,i.Z)(m.current),t=function(){h.current=!0};return n.addEventListener(e,C),n.addEventListener("touchmove",t),function(){n.removeEventListener(e,C),n.removeEventListener("touchmove",t)}}}),[C,p]),!1!==d&&(S[d]=x(d)),r.useEffect((function(){if(!1!==d){var e=l(d),n=(0,i.Z)(m.current);return n.addEventListener(e,C),function(){n.removeEventListener(e,C)}}}),[C,d]),r.createElement(r.Fragment,null,r.cloneElement(n,S))}},66856:function(e,n,t){"use strict";var r=t(87462),o=t(45987),i=t(67294),a=t(86010),c=t(52543),l=i.forwardRef((function(e,n){var t=e.disableSpacing,c=void 0!==t&&t,l=e.classes,u=e.className,s=(0,o.Z)(e,["disableSpacing","classes","className"]);return i.createElement("div",(0,r.Z)({className:(0,a.default)(l.root,u,!c&&l.spacing),ref:n},s))}));n.Z=(0,c.Z)({root:{display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},spacing:{"& > :not(:first-child)":{marginLeft:8}}},{name:"MuiDialogActions"})(l)},66083:function(e,n,t){"use strict";var r=t(87462),o=t(45987),i=t(67294),a=t(86010),c=t(52543),l=t(22318),u=i.forwardRef((function(e,n){var t=e.children,c=e.classes,u=e.className,s=e.disableTypography,d=void 0!==s&&s,f=(0,o.Z)(e,["children","classes","className","disableTypography"]);return i.createElement("div",(0,r.Z)({className:(0,a.default)(c.root,u),ref:n},f),d?t:i.createElement(l.Z,{component:"h2",variant:"h6"},t))}));n.Z=(0,c.Z)({root:{margin:0,padding:"16px 24px",flex:"0 0 auto"}},{name:"MuiDialogTitle"})(u)},82285:function(e,n,t){"use strict";var r=t(87462),o=t(45987),i=t(67294),a=t(73935),c=t(79437),l=t(98885),u=t(17294),s=t(8920),d=t(43366),f=t(5653);function v(e,n){var t=function(e,n){var t,r=n.getBoundingClientRect();if(n.fakeTransform)t=n.fakeTransform;else{var o=window.getComputedStyle(n);t=o.getPropertyValue("-webkit-transform")||o.getPropertyValue("transform")}var i=0,a=0;if(t&&"none"!==t&&"string"===typeof t){var c=t.split("(")[1].split(")")[0].split(",");i=parseInt(c[4],10),a=parseInt(c[5],10)}return"left"===e?"translateX(".concat(window.innerWidth,"px) translateX(").concat(i-r.left,"px)"):"right"===e?"translateX(-".concat(r.left+r.width-i,"px)"):"up"===e?"translateY(".concat(window.innerHeight,"px) translateY(").concat(a-r.top,"px)"):"translateY(-".concat(r.top+r.height-a,"px)")}(e,n);t&&(n.style.webkitTransform=t,n.style.transform=t)}var p={enter:d.x9.enteringScreen,exit:d.x9.leavingScreen},h=i.forwardRef((function(e,n){var t=e.children,d=e.direction,h=void 0===d?"down":d,m=e.in,g=e.onEnter,y=e.onEntered,b=e.onEntering,_=e.onExit,C=e.onExited,x=e.onExiting,S=e.style,w=e.timeout,I=void 0===w?p:w,P=e.TransitionComponent,k=void 0===P?l.ZP:P,N=(0,o.Z)(e,["children","direction","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"]),j=(0,s.Z)(),E=i.useRef(null),Z=i.useCallback((function(e){E.current=a.findDOMNode(e)}),[]),A=(0,u.Z)(t.ref,Z),T=(0,u.Z)(A,n),L=function(e){return function(n){e&&(void 0===n?e(E.current):e(E.current,n))}},O=L((function(e,n){v(h,e),(0,f.n)(e),g&&g(e,n)})),M=L((function(e,n){var t=(0,f.C)({timeout:I,style:S},{mode:"enter"});e.style.webkitTransition=j.transitions.create("-webkit-transform",(0,r.Z)({},t,{easing:j.transitions.easing.easeOut})),e.style.transition=j.transitions.create("transform",(0,r.Z)({},t,{easing:j.transitions.easing.easeOut})),e.style.webkitTransform="none",e.style.transform="none",b&&b(e,n)})),U=L(y),D=L(x),R=L((function(e){var n=(0,f.C)({timeout:I,style:S},{mode:"exit"});e.style.webkitTransition=j.transitions.create("-webkit-transform",(0,r.Z)({},n,{easing:j.transitions.easing.sharp})),e.style.transition=j.transitions.create("transform",(0,r.Z)({},n,{easing:j.transitions.easing.sharp})),v(h,e),_&&_(e)})),F=L((function(e){e.style.webkitTransition="",e.style.transition="",C&&C(e)})),Y=i.useCallback((function(){E.current&&v(h,E.current)}),[h]);return i.useEffect((function(){if(!m&&"down"!==h&&"right"!==h){var e=(0,c.Z)((function(){E.current&&v(h,E.current)}));return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}}}),[h,m]),i.useEffect((function(){m||Y()}),[m,Y]),i.createElement(k,(0,r.Z)({nodeRef:E,onEnter:O,onEntered:U,onEntering:M,onExit:R,onExited:F,onExiting:D,appear:!0,in:m,timeout:I},N),(function(e,n){return i.cloneElement(t,(0,r.Z)({ref:T,style:(0,r.Z)({visibility:"exited"!==e||m?void 0:"hidden"},S,t.props.style)},n))}))}));n.Z=h},8920:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(159),o=(t(67294),t(99700));function i(){return(0,r.Z)()||o.Z}},79437:function(e,n,t){"use strict";function r(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];var a=this,c=function(){e.apply(a,o)};clearTimeout(n),n=setTimeout(c,t)}return r.clear=function(){clearTimeout(n)},r}t.d(n,{Z:function(){return r}})},34236:function(e,n,t){"use strict";function r(e,n){"function"===typeof e?e(n):e&&(e.current=n)}t.d(n,{Z:function(){return r}})},55192:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(67294),o="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;function i(e){var n=r.useRef(e);return o((function(){n.current=e})),r.useCallback((function(){return n.current.apply(void 0,arguments)}),[])}},17294:function(e,n,t){"use strict";t.d(n,{Z:function(){return i}});var r=t(67294),o=t(34236);function i(e,n){return r.useMemo((function(){return null==e&&null==n?null:function(t){(0,o.Z)(e,t),(0,o.Z)(n,t)}}),[e,n])}},13457:function(e,n,t){"use strict";var r=t(87462),o=t(67294),i=t(83800),a=t(159),c=t(17076);n.Z=function(e){var n=e.children,t=e.theme,l=(0,a.Z)(),u=o.useMemo((function(){var e=null===l?t:function(e,n){return"function"===typeof n?n(e):(0,r.Z)({},e,n)}(l,t);return null!=e&&(e[c.Z]=null!==l),e}),[t,l]);return o.createElement(i.Z.Provider,{value:u},n)}},48418:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.default=void 0;var i,a=(i=t(67294))&&i.__esModule?i:{default:i},c=t(76273),l=t(90387),u=t(57190);var s={};function d(e,n,t,r){if(e&&c.isLocalURL(n)){e.prefetch(n,t,r).catch((function(e){0}));var o=r&&"undefined"!==typeof r.locale?r.locale:e&&e.locale;s[n+"%"+t+(o?"%"+o:"")]=!0}}var f=function(e){var n,t=!1!==e.prefetch,r=l.useRouter(),i=a.default.useMemo((function(){var n=o(c.resolveHref(r,e.href,!0),2),t=n[0],i=n[1];return{href:t,as:e.as?c.resolveHref(r,e.as):i||t}}),[r,e.href,e.as]),f=i.href,v=i.as,p=e.children,h=e.replace,m=e.shallow,g=e.scroll,y=e.locale;"string"===typeof p&&(p=a.default.createElement("a",null,p));var b=(n=a.default.Children.only(p))&&"object"===typeof n&&n.ref,_=o(u.useIntersection({rootMargin:"200px"}),2),C=_[0],x=_[1],S=a.default.useCallback((function(e){C(e),b&&("function"===typeof b?b(e):"object"===typeof b&&(b.current=e))}),[b,C]);a.default.useEffect((function(){var e=x&&t&&c.isLocalURL(f),n="undefined"!==typeof y?y:r&&r.locale,o=s[f+"%"+v+(n?"%"+n:"")];e&&!o&&d(r,f,v,{locale:n})}),[v,f,x,y,t,r]);var w={ref:S,onClick:function(e){n.props&&"function"===typeof n.props.onClick&&n.props.onClick(e),e.defaultPrevented||function(e,n,t,r,o,i,a,l){("A"!==e.currentTarget.nodeName.toUpperCase()||!function(e){var n=e.currentTarget.target;return n&&"_self"!==n||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e)&&c.isLocalURL(t))&&(e.preventDefault(),n[o?"replace":"push"](t,r,{shallow:i,locale:l,scroll:a}))}(e,r,f,v,h,m,g,y)},onMouseEnter:function(e){n.props&&"function"===typeof n.props.onMouseEnter&&n.props.onMouseEnter(e),c.isLocalURL(f)&&d(r,f,v,{priority:!0})}};if(e.passHref||"a"===n.type&&!("href"in n.props)){var I="undefined"!==typeof y?y:r&&r.locale,P=r&&r.isLocaleDomain&&c.getDomainLocale(v,I,r&&r.locales,r&&r.domainLocales);w.href=P||c.addBasePath(c.addLocale(v,I,r&&r.defaultLocale))}return a.default.cloneElement(n,w)};n.default=f},57190:function(e,n,t){"use strict";function r(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function o(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return r(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return r(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}Object.defineProperty(n,"__esModule",{value:!0}),n.useIntersection=function(e){var n=e.rootRef,t=e.rootMargin,r=e.disabled||!c,s=i.useRef(),d=o(i.useState(!1),2),f=d[0],v=d[1],p=o(i.useState(n?n.current:null),2),h=p[0],m=p[1],g=i.useCallback((function(e){s.current&&(s.current(),s.current=void 0),r||f||e&&e.tagName&&(s.current=function(e,n,t){var r=function(e){var n,t={root:e.root||null,margin:e.rootMargin||""},r=u.find((function(e){return e.root===t.root&&e.margin===t.margin}));r?n=l.get(r):(n=l.get(t),u.push(t));if(n)return n;var o=new Map,i=new IntersectionObserver((function(e){e.forEach((function(e){var n=o.get(e.target),t=e.isIntersecting||e.intersectionRatio>0;n&&t&&n(t)}))}),e);return l.set(t,n={id:t,observer:i,elements:o}),n}(t),o=r.id,i=r.observer,a=r.elements;return a.set(e,n),i.observe(e),function(){if(a.delete(e),i.unobserve(e),0===a.size){i.disconnect(),l.delete(o);var n=u.findIndex((function(e){return e.root===o.root&&e.margin===o.margin}));n>-1&&u.splice(n,1)}}}(e,(function(e){return e&&v(e)}),{root:h,rootMargin:t}))}),[r,h,t,f]);return i.useEffect((function(){if(!c&&!f){var e=a.requestIdleCallback((function(){return v(!0)}));return function(){return a.cancelIdleCallback(e)}}}),[f]),i.useEffect((function(){n&&m(n.current)}),[n]),[g,f]};var i=t(67294),a=t(9311),c="undefined"!==typeof IntersectionObserver;var l=new Map,u=[]},45977:function(e,n){"use strict";var t={spacing:10,palette:{primary:{main:"#fcb716",light:"#fed984",contrastText:"#fff"},secondary:{main:"#0087ba",light:"#01475b",dark:"#02475b",contrastText:"#fff"},error:{main:"#890000",dark:"#e50000",light:"#e50000",contrastText:"#fff"},text:{primary:"#02475b"},background:{default:"#dcdfce"},action:{active:"#fff",hover:"#fff",hoverOpacity:.08,selected:"#fc9916",disabled:"#fff",disabledBackground:"#fed984"}},typography:{htmlFontSize:16,fontFamily:["IBM Plex Sans","sans-serif"].join(","),fontSize:14,fontWeightLight:300,fontWeightRegular:400,fontWeightMedium:500,fontWeightBold:700,h1:{fontSize:56,fontFamily:'"ibm_plex_sanssemibold", sans-serif',color:"#02475b"},h2:{fontSize:36,fontFamily:'"ibm_plex_sanssemibold", sans-serif',color:"#02475b"},h3:{fontSize:26,fontFamily:'"ibm_plex_sanssemibold", sans-serif',color:"#02475b"},h4:{fontSize:18,fontFamily:'"ibm_plex_sanssemibold", sans-serif',color:"#02475b"},h5:{fontSize:14,fontFamily:'"ibm_plex_sansmedium", sans-serif',color:"#02475b"},button:{fontSize:13}},shape:{borderRadius:10},breakpoints:{values:{xs:0,sm:768,md:900,lg:1024,xl:1200}}};n.Z=t},69274:function(e,n,t){"use strict";var r;t.d(n,{R:function(){return r}}),function(e){e.AUTO="AUTO",e.MANUAL="MANUAL"}(r||(r={}))},24477:function(e,n,t){"use strict";t.d(n,{Jp:function(){return v},Iw:function(){return p},Kc:function(){return h}});var r=t(34051),o=t.n(r),i=t(9669),a=t.n(i),c=t(15144),l=t(88385);function u(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function s(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){u(i,r,o,a,c,"next",e)}function c(e){u(i,r,o,a,c,"throw",e)}a(void 0)}))}}var d={authToken:l.Hx,hitUrl:"".concat(l.O3,"/hit"),initTurretSrchURL:"".concat(l.O3,"/init"),turretAddToCart:"".concat(l.O3,"/addToCart")},f=function(){var e=s(o().mark((function e(n,t,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",a().get("".concat(d.hitUrl),{headers:{Authorization:d.authToken,"X-TOKEN":n},params:{query:t,param:r}}).catch((function(e){console.error("Search Hit Api failed",e)})));case 1:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),v=function(e,n,t){(0,c.j)()&&f(e,n,t)},p=function(){var e=s(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.j)()){e.next=9;break}return e.prev=1,e.next=4,a().get("".concat(d.initTurretSrchURL),{headers:{Authorization:d.authToken,"X-TOKEN":n}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("There was an error initialising turret search",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n){return e.apply(this,arguments)}}(),h=function(){var e=s(o().mark((function e(n,t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,c.j)()){e.next=9;break}return e.prev=1,e.next=4,a().get("".concat(d.turretAddToCart),{headers:{Authorization:d.authToken,"X-TOKEN":n},params:{sku:t}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.error("There was an error tracking add to cart turret event",e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(n,t){return e.apply(this,arguments)}}()},90868:function(e,n){"use strict";n.Z=function(e,n,t,r){console.log("Error performing ".concat(t," in ").concat(n," at key - "),e,r)}},6786:function(e,n,t){"use strict";t.d(n,{W:function(){return c}});var r=t(34051),o=t.n(r),i=t(67294);function a(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}var c=function(e,n,t,r,c,l){var u=(0,i.useState)(e),s=u[0],d=u[1];(0,i.useEffect)((function(){d(e)}),[e]),(0,i.useEffect)((function(){if(s>0){var e=1;!function i(u){if(u<=0)n();else if(u>t)i(t);else{var s,d=e*c;e*=l,setTimeout((s=o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r();case 2:i(u-1);case 3:case"end":return e.stop()}}),e)})),function(){var e=this,n=arguments;return new Promise((function(t,r){var o=s.apply(e,n);function i(e){a(o,t,r,i,c,"next",e)}function c(e){a(o,t,r,i,c,"throw",e)}i(void 0)}))}),d)}}(s)}}),[s])}},49020:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return Yr}});var r=t(85893),o=t(67294),i=t(9473),a=t(3644),c=t(21605),l=t(2076),u=t(13457),s=t(9008),d=t(45867),f=t(88683),v=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.addAddressDialogOpen})),p=t(91068),h=t(7347),m=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.isAddressListUpdated})),g=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.isAddressUpdated})),y=t(99730),b=t(66410),_=t(83014),C=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.latitude})),x=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.longitude})),S=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){var n;return null===e||void 0===e||null===(n=e.thunkStatus)||void 0===n?void 0:n.placeDetails})),w=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.pickAddressDialogOpen})),I=t(74605),P=t(84093),k=t(11124),N=t(72389),j=t(13028),E=t(94792),Z=t(40245),A=t(5152),T=(0,A.default)((function(){return Promise.all([t.e(2387),t.e(5215)]).then(t.bind(t,25215)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[25215]}},ssr:!1}),L=(0,A.default)((function(){return Promise.all([t.e(3854),t.e(6360),t.e(165)]).then(t.bind(t,60165)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[60165]}},ssr:!1}),O=(0,A.default)((function(){return Promise.all([t.e(3854),t.e(6360),t.e(37)]).then(t.bind(t,10037)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[10037]}},ssr:!1}),M=function(e){var n=e.ua,t=e.isPaymentPage,i=(0,c.T)(),a=(0,k.x)(),l=(0,c.C)(v),u=(0,c.C)(p.Z),s=(0,c.C)(h.Z),f=(0,c.C)(I.Z),A=(0,c.C)(m),M=(0,c.C)(g),U=(0,c.C)(y.w5),D=(0,c.C)(b.Z),R=(0,c.C)(_.Z),F=(0,c.C)(C),Y=(0,c.C)(x),G=(0,c.C)(S),H=(0,c.C)(w),B=(0,c.C)(E.Z),J=f||"",q=(null===u||void 0===u?void 0:u.length)>0;return(0,o.useEffect)((function(){!M&&A&&function(){if(J)try{i((0,P.ZS)(!0)),A&&function(e,n){var t=(null===e||void 0===e?void 0:e.find((function(e){return e.id===n})))||null;if(t){var r=t.zipcode,o=void 0===r?"":r,a=t.city,c=void 0===a?"":a,l=t.state,u=void 0===l?"":l,s=t.latitude,d=t.longitude;localStorage.setItem("pharmaPincode",o),i((0,P.bJ)({city:c,country:"",latitude:s,longitude:d,pincode:o,state:u})),i((0,P.xt)(t.id))}else i((0,P.xt)(""));i((0,P.SR)(!0))}(U,D)}catch(e){i((0,P.xt)("")),console.error("UPDATING PATIENT ADDRESS FAILED",e)}finally{i((0,P.ZS)(!1))}}()}),[M,A,J,D,U]),(0,o.useEffect)((function(){i((0,P.f_)(t))}),[t]),(0,o.useEffect)((function(){!A&&J&&i((0,N.Z)({apolloClient:a,patientId:J}))}),[A,J]),(0,o.useEffect)((function(){D||(0,j.yb)(B)}),[D,B]),(0,o.useEffect)((function(){G===Z.g.fulfilled&&(i(J?(0,d.mY)({address:{zipcode:R,coordinate:{latitude:F,longitude:Y}}}):(0,P.ZS)(!1)),i((0,P.UY)(Z.g.idle)))}),[J,R,F,Y,G]),(0,o.useEffect)((function(){localStorage.setItem("pharmaAddressDetails",JSON.stringify(s))}),[s]),(0,o.useEffect)((function(){i((0,P.m$)(!1))}),[]),(0,o.useEffect)((function(){H&&(i((0,P.Ql)(!1)),i((0,P.XR)("")))}),[H]),(0,r.jsxs)(r.Fragment,{children:[e.children,H&&(0,r.jsx)(T,{open:H,closePickAddressDialog:function(){i((0,P.cf)(!1))}}),l&&(0,r.jsx)(L,{open:l,ua:n}),q&&(0,r.jsx)(O,{open:q,ua:n})]})},U=t(23908),D=t(92885),R=t(88865),F=t(11163),Y=t(28078),G=t.n(Y),H=t(95335),B=t(67139),J=t(34051),q=t.n(J),W=t(15306),z=t(22674),V=t(991),K=t(64238),Q=t(33424),X=t(11349),$=t(59379),ee=t(83371),ne=t(22652),te=t(33394),re=t(73637),oe=t(84069),ie=t(42078),ae=t(99210),ce=t(6786),le=t(26961),ue=t(18645),se=t(50344),de=t(79945),fe=function(e){var n=e.physicalPrescriptionsToUpload,t=e.currentPatient,r=e.serverPrescriptions,o=e.apolloClient,i=(null===t||void 0===t?void 0:t.id)||"";return Promise.all(n.filter((function(e){var n=e.fileUrl;return!r.filter((function(e){return e.fileUrl})).map((function(e){return e.fileUrl})).includes(n)})).map((function(e){var n,t=e.baseFormat,r=e.fileType,a=null===(n=null===t||void 0===t?void 0:t.split(";base64,"))||void 0===n?void 0:n[1];return o.mutate({mutation:de.VU,fetchPolicy:"no-cache",variables:{UploadDocumentInput:{base64FileInput:a,category:oe.rs.HealthChecks,fileType:"jpg"==r?oe.vq.JPEG:"png"==r?oe.vq.PNG:"pdf"==r?oe.vq.PDF:oe.vq.JPEG,patientId:i}}}).catch((function(e){throw e}))}))).catch((function(e){return console.error(e,"Uploading Prescriptions Failed"),Promise.reject([])}))};function ve(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function pe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function he(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){pe(e,n,t[n])}))}return e}var me,ge=function(){var e,n=(e=q().mark((function e(n){var t,r,o,i,c,l,u,s,f,v,p,h,m,g,y,b;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.physicalPrescriptionsSelectedByUser,r=n.ePrescriptionsSelectedByUser,o=n.cartInputPayload,i=n.currentPatient,c=n.serverPrescriptions,l=n.apolloClient,u=(null===i||void 0===i?void 0:i.id)||"",!(null===t||void 0===t?void 0:t.length)&&!(null===r||void 0===r?void 0:r.length)||!u){e.next=14;break}return f=[],e.next=7,fe({physicalPrescriptionsToUpload:t,currentPatient:i,serverPrescriptions:c,apolloClient:l});case 7:(null===(v=e.sent)||void 0===v?void 0:v.length)&&(p=v.filter((function(e){var n,t;return null===e||void 0===e||null===(n=e.data)||void 0===n||null===(t=n.uploadDocument)||void 0===t?void 0:t.status})).map((function(e){var n;return null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.uploadDocument})),h=(null===v||void 0===v?void 0:v.length)===(null===p||void 0===p?void 0:p.length),m=p.map((function(e,n){var r,o,a,c=e.fileId,l=e.filePath;return{prismFileId:c||"",appointmentId:"",fileUrl:h&&(null===t||void 0===t||null===(r=t[n])||void 0===r?void 0:r.fileUrl)||l||"",date:"",doctorName:"",medicineNames:[],medicineSku:[],forPatient:(null===i||void 0===i?void 0:i.firstName)||"",fileName:h&&(null===t||void 0===t||null===(o=t[n])||void 0===o?void 0:o.fileName)||"",fileType:h&&(null===t||void 0===t||null===(a=t[n])||void 0===a?void 0:a.fileType)||""}})),f=f.concat(m),h||a.Z.dispatch((0,d.AS)(se.u.PrescriptionUploadFailed))),(null===r||void 0===r?void 0:r.length)&&(g=r.filter((function(e){var n=e.prismFileId;return!c.filter((function(e){return e.prismFileId})).map((function(e){return e.prismFileId})).includes(n)})).map((function(e){return{prismFileId:e.prismFileId||"",fileUrl:e.fileUrl,appointmentId:e.appointmentId,date:e.date,doctorName:e.doctorName,forPatient:e.forPatient,medicineNames:e.medicineNames,medicineSku:e.medicineSku,fileName:"",fileType:""}})),f=f.concat(g)),y=[],(null===f||void 0===f?void 0:f.length)&&(y=f.map((function(e){return{fileUrl:(null===e||void 0===e?void 0:e.fileUrl)||"",prismFileId:(null===e||void 0===e?void 0:e.prismFileId)||"",appointmentId:(null===e||void 0===e?void 0:e.appointmentId)||"",uhid:(null===i||void 0===i?void 0:i.uhid)||"",meta:{createdAt:(null===e||void 0===e?void 0:e.date)||(new Date).toDateString(),doctorName:(null===e||void 0===e?void 0:e.doctorName)||"",fileName:(null===e||void 0===e?void 0:e.fileName)||"",fileType:(null===e||void 0===e?void 0:e.fileType)||"",medicineNames:(null===e||void 0===e?void 0:e.medicineNames)||[],medicineSku:(null===e||void 0===e?void 0:e.medicineSku)||[],patientName:(null===e||void 0===e?void 0:e.forPatient)||""}}}))),b=he({},o,(null===y||void 0===y?void 0:y.length)&&{prescriptionDetails:y}),(null===(s=Object.keys(b))||void 0===s?void 0:s.length)&&a.Z.dispatch((0,d.mY)(b));case 14:case"end":return e.stop()}}),e)})),function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){ve(i,r,o,a,c,"next",e)}function c(e){ve(i,r,o,a,c,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),ye=ge,be=t(82798);function _e(e,n,t){var r,o,i,a,c,l,u,s,d,f,v,p,h,m,g,y,b,_,C,x,S,w,I,P,k,N,j,E,Z,A,T,L,O=n+t;return{title:O>0?{__typename:"CircleMessage",attribute:{__typename:"CircleMessageAttribute",amount:(null===e||void 0===e||null===(r=e.title)||void 0===r||null===(o=r.aboveCutOff)||void 0===o||null===(i=o.attribute)||void 0===i?void 0:i.amount)||O,symbol:(null===e||void 0===e||null===(a=e.title)||void 0===a||null===(c=a.aboveCutOff)||void 0===c||null===(l=c.attribute)||void 0===l?void 0:l.symbol)||"\u20b9"},template:(null===e||void 0===e||null===(u=e.title)||void 0===u||null===(s=u.aboveCutOff)||void 0===s?void 0:s.template)||me.SAVINGS_TITLE}:{__typename:"CircleMessage",attribute:{__typename:"CircleMessageAttribute",amount:(null===e||void 0===e||null===(d=e.title)||void 0===d||null===(f=d.default)||void 0===f||null===(v=f.attribute)||void 0===v?void 0:v.amount)||30,symbol:(null===e||void 0===e||null===(p=e.title)||void 0===p||null===(h=p.default)||void 0===h||null===(m=h.attribute)||void 0===m?void 0:m.symbol)||"%"},template:(null===e||void 0===e||null===(g=e.title)||void 0===g||null===(y=g.default)||void 0===y?void 0:y.template)||me.SAVINGS_TITLE},message:O>0?{__typename:"CircleMessage",attribute:{__typename:"CircleMessageAttribute",amount:(null===e||void 0===e||null===(b=e.message)||void 0===b||null===(_=b.aboveCutOff)||void 0===_||null===(C=_.attribute)||void 0===C?void 0:C.amount)||30,symbol:(null===e||void 0===e||null===(x=e.message)||void 0===x||null===(S=x.aboveCutOff)||void 0===S||null===(w=S.attribute)||void 0===w?void 0:w.symbol)||"%"},template:(null===e||void 0===e||null===(I=e.message)||void 0===I||null===(P=I.aboveCutOff)||void 0===P?void 0:P.template)||me.SAVINGS_MESSAGE}:{__typename:"CircleMessage",attribute:{__typename:"CircleMessageAttribute",amount:(null===e||void 0===e||null===(k=e.message)||void 0===k||null===(N=k.default)||void 0===N||null===(j=N.attribute)||void 0===j?void 0:j.amount)||0,symbol:(null===e||void 0===e||null===(E=e.message)||void 0===E||null===(Z=E.default)||void 0===Z||null===(A=Z.attribute)||void 0===A?void 0:A.symbol)||"%"},template:(null===e||void 0===e||null===(T=e.message)||void 0===T||null===(L=T.default)||void 0===L?void 0:L.template)||me.NO_SAVINGS_MESSAGE}}}!function(e){e.NO_SAVINGS_TITLE="Unlimited Free delivery + Upto {symbol}{amount} Off",e.NO_SAVINGS_MESSAGE="Plans starting @50! Save 500+ every months with circle",e.SAVINGS_TITLE="Save extra {symbol}{amount} on this order",e.SAVINGS_MESSAGE="Free delivery + upto {amount}{symbol} cashback on all orders & more benefits"}(me||(me={}));var Ce=t(9669),xe=t.n(Ce);function Se(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function we(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Se(i,r,o,a,c,"next",e)}function c(e){Se(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Ie(){return Pe.apply(this,arguments)}function Pe(){return(Pe=we(q().mark((function e(){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,xe().get(D.bJ);case 3:return n=e.sent.data,e.abrupt("return",n);case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}var ke=t(90868),Ne=t(87307),je=t(96129),Ee=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.subscriptions}),(function(e){return null===e||void 0===e?void 0:e.circlePlansStatus})),Ze=t(72722);function Ae(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Te(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function Le(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Te(i,r,o,a,c,"next",e)}function c(e){Te(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Oe(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Me(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Oe(e,n,t[n])}))}return e}function Ue(e,n){return function(e){if(Array.isArray(e))return e}(e)||function(e,n){var t=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=t){var r,o,i=[],a=!0,c=!1;try{for(t=t.call(e);!(a=(r=t.next()).done)&&(i.push(r.value),!n||i.length!==n);a=!0);}catch(l){c=!0,o=l}finally{try{a||null==t.return||t.return()}finally{if(c)throw o}}return i}}(e,n)||function(e,n){if(!e)return;if("string"===typeof e)return Ae(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Ae(e,n)}(e,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var De=t.e(9483).then(t.t.bind(t,69483,23)).then((function(e){return e.default})),Re=function(){var e=(0,c.T)(),n=(0,k.x)(),t=(0,c.C)(I.Z),r=(0,c.C)(V.Z),i=(0,c.C)(ie.N9),a=(0,c.C)((function(e){return(0,K.XX)(e,t)})),l=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.callRenewCart})),u=(0,c.C)(Q.Z),s=(0,c.C)(X.Z),f=(0,c.C)(E.Z),v=(0,c.C)($.Z),p=(0,c.C)(ee.Z),m=(0,c.C)(ne.jn),g=(0,c.C)(te.Z),y=(0,c.C)(h.Z),_=(0,c.C)(b.Z),C=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.fetchCartPollsLeft})),x=(0,c.C)(re.Z),S=(0,c.C)(Ee),w=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.removedSKUs})),P=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.isCartUpdated})),N=(0,o.useState)(!0),A=N[0],T=N[1],L=Ue((0,z.D)(W.nx),1)[0],O=(0,F.useRouter)(),M=(a||{}).id,U=void 0===M?"":M;(null===v||void 0===v?void 0:v.length)>0&&v[v.length-1]||ue.l.LANDING;(0,o.useEffect)((function(){(0,j.mD)(a)}),[]),(0,o.useEffect)((function(){var t=(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("prevPath"))||"",r=(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("currentPath"))||"",o=t.includes("/login"),c=r.includes("/order-status");if(U&&!c&&(!(t===r)||o)){var l=function(e){var n=localStorage.getItem(e);return n?JSON.parse(n):[]}("cartItems"),u=localStorage.getItem("CIRCLEPlan")?JSON.parse(localStorage.getItem("CIRCLEPlan")):null,s=localStorage.getItem("removedSkuList")||"",f=s?s.split(","):[],v=(l||[]).map((function(e){return{medicineSKU:e.sku,quantity:e.quantity}})).concat((f||[]).map((function(e){return{medicineSKU:e,quantity:0}}))),p=Me({},(null===v||void 0===v?void 0:v.length)&&{medicineOrderCartLineItems:v},u&&{subscription:{subscriptionApplied:!0,circleAddedToCart:!0,planPurchaseDetails:{planId:oe.eX.CIRCLEPlan,subPlanId:u.subPlanId}}});De.then((function(t){return t.getItem("prescriptions",(function(t){var r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(t)(0,ke.Z)("prescriptions","localForage","read",t);else{var c=null===o||void 0===o?void 0:o.filter((function(e){var n=e.baseFormat,t=e.fileUrl;return n&&t}));(null===c||void 0===c?void 0:c.length)?ye({physicalPrescriptionsSelectedByUser:c,ePrescriptionsSelectedByUser:[],cartInputPayload:p,currentPatient:a,serverPrescriptions:i,apolloClient:n}):(null===(r=Object.keys(p))||void 0===r?void 0:r.length)&&e((0,d.mY)(p))}}))}))}}),[U]),(0,o.useEffect)((function(){var n=function(){var n=Le(q().mark((function n(t){return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(null===t||void 0===t?void 0:t.patientId)&&A&&(T(!1),e((0,d.Ap)(Z.g.pending)),L({variables:{cartInputDataV2:t}}).then((function(e){var n,t=null===e||void 0===e||null===(n=e.data)||void 0===n?void 0:n.saveCartV2;(0,je.q)(t,s,y,u,f)})).then((function(){e((0,d.Ap)(Z.g.fulfilled)),localStorage.removeItem("cartItems")})).catch((function(n){e((0,d.Ap)(Z.g.rejected)),console.error("Failed to sync server cart",n)})).finally((function(){e((0,d.mY)(null)),T(!0)})));case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();p&&U&&n(Me({},p,{patientId:U}))}),[p,U,A]),(0,ce.W)(C,(function(){return e((0,d.YJ)(0))}),D.qZ,(function(){return(0,Ne.u)({patientId:U,apolloClient:n,nonCartFlow:s,pharmaAddressDetails:y,whatsAppReminderSettings:u,customerCartPreferences:f})}),500,2),(0,o.useEffect)((function(){var t,r=function(e){if(!(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("paymentInitiated")))return e.preventDefault(),e.returnValue="Are you sure you want to leave this page ?"},o=function(){null===sessionStorage||void 0===sessionStorage||sessionStorage.removeItem("renewCartOrderId"),(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("paymentInitiated"))?null===sessionStorage||void 0===sessionStorage||sessionStorage.removeItem("paymentInitiated"):null===sessionStorage||void 0===sessionStorage||sessionStorage.setItem("renewCartOrderId",i)},i=(null===O||void 0===O||null===(t=O.query)||void 0===t?void 0:t.orderId)||"",a=O.asPath==="".concat(ae.r.payMedicineJuspay(i)),c=null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("renewCartOrderId"),l=O.asPath.includes("/login");return a&&U&&(window.addEventListener("beforeunload",r,!1),window.addEventListener("unload",o,!1),O.events.on("routeChangeComplete",o),O.beforePopState((function(){return o(),!0}))),c&&U?e((0,d.Nz)(!0)):!l&&U&&(0,Ne.u)({patientId:U,apolloClient:n,nonCartFlow:s,pharmaAddressDetails:y,whatsAppReminderSettings:u,customerCartPreferences:f}),function(){a&&U&&(window.removeEventListener("beforeunload",r,!1),window.removeEventListener("unload",o,!1),O.events.off("routeChangeComplete",o),O.beforePopState((function(){return!0})))}}),[O.asPath,U,s]),(0,o.useEffect)((function(){(0,j.gf)(s)}),[s]),(0,o.useEffect)((function(){var t,r=null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem("renewCartOrderId");r&&l&&U&&(e((0,d.Nz)(!1)),t=U,(0,Ne.u)({patientId:t,apolloClient:n,nonCartFlow:s,pharmaAddressDetails:y,whatsAppReminderSettings:u,customerCartPreferences:f}),null===sessionStorage||void 0===sessionStorage||sessionStorage.removeItem("renewCartOrderId"),null===sessionStorage||void 0===sessionStorage||sessionStorage.removeItem("isHCPreferred"))}),[U,l]),(0,o.useEffect)((function(){if(r!==be.J.SIGNEDIN&&!s&&S===Z.g.fulfilled){var n=function(){var n=Le(q().mark((function n(){var t,r;return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Ie();case 2:t=n.sent,(r=_e(t,D.ud,x))&&(e((0,Ze.sZ)(null===r||void 0===r?void 0:r.title)),e((0,Ze.kN)(null===r||void 0===r?void 0:r.message)));case 5:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}}),[r,s,x,S]),(0,o.useEffect)((function(){f&&localStorage.setItem("cartPreferences",(0,le.compress)(JSON.stringify(f)))}),[f]),(0,o.useEffect)((function(){if(P){var n=JSON.stringify(m);(null===a||void 0===a?void 0:a.id)?(localStorage.setItem("".concat(a.id),n),localStorage.removeItem("cartItems")):localStorage.setItem("cartItems",n),m.length||(0,j.k3)(),e((0,d.mK)(n)),e((0,d.Q1)(!1))}}),[m,P]),(0,o.useEffect)((function(){if(g){var e=localStorage.getItem("pharmaCoupon");g.length&&g!==e?localStorage.setItem("pharmaCoupon",g):g.length||(0,j.k3)()}}),[g]),(0,o.useEffect)((function(){(null===y||void 0===y?void 0:y.pincode)&&localStorage.setItem("pharmaPincode",y.pincode)}),[y]),(0,o.useEffect)((function(){var n;if((null===a||void 0===a||null===(n=a.id)||void 0===n?void 0:n.length)>0){var t=localStorage.getItem("".concat(a.id));e((0,d.w0)(t?JSON.parse(t):[]))}}),[a]),(0,o.useEffect)((function(){localStorage.setItem("deliveryAddressId",_)}),[_]),(0,o.useEffect)((function(){var e=[];w.forEach((function(n){m.map((function(e){return e.sku})).includes(n)||e.push(n)})),localStorage.setItem("removedSkuList",e.join(","))}),[w,m])},Fe=(0,A.default)((function(){return Promise.all([t.e(2387),t.e(2971)]).then(t.bind(t,22971))}),{loadableGenerated:{webpack:function(){return[22971]}},ssr:!1}),Ye=function(e){var n=(0,F.useRouter)(),t=(0,c.T)(),i=(0,c.C)(H.Z),a=(0,c.C)(B.Z);Re(),(0,o.useEffect)((function(){a&&setTimeout((function(){t((0,d.AS)(""))}),R.Wy)}),[a]),(0,o.useEffect)((function(){var e=null===window||void 0===window?void 0:window.sessionStorage;if(e){var t=e.getItem("currentPath");e.setItem("prevPath",t),e.setItem("currentPath",n.asPath)}}),[n.asPath]);var l=!!a.length&&!i;return(0,r.jsxs)(r.Fragment,{children:[e.children,l&&(0,r.jsx)(Fe,{open:!!a.length&&!i,anchorEl:null,children:(0,r.jsx)("div",{className:G().successPopoverWindow,children:(0,r.jsxs)("div",{className:G().windowWrap,children:[(0,r.jsx)("div",{className:G().mascotIcon,children:(0,r.jsx)("img",{src:"".concat(D.Qr,"/images/ic-mascot.png"),alt:""})}),(0,r.jsxs)("div",{className:G().windowBody,children:[(0,r.jsx)(U.Typography,{component:"h4",children:"Dear Customer!"}),(0,r.jsx)("p",{children:(0,r.jsx)("span",{children:a})})]}),(0,r.jsx)("div",{className:G().actions,children:(0,r.jsx)(U.Button,{type:"submit",color:"primary",onClick:function(){t((0,d.AS)(""))},children:"Ok, Got It"})})]})})})]})},Ge=t(4032),He=t(10401),Be=t(16349),Je=t(52845),qe=t(93858),We=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.subscriptions}),(function(e){return null===e||void 0===e?void 0:e.userSubscriptionsUpdated})),ze=t(36866),Ve=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.subscriptions}),(function(e){return null===e||void 0===e?void 0:e.subscriptionCartDetails})),Ke=t(74173),Qe=t(13855),Xe=t(57143),$e=function(e){e.forEach((function(e){var n=e.method,t=e.dependencies;(0,o.useEffect)((function(){n()}),t)}))},en=function(){var e=(0,c.T)(),n=(0,k.x)(),t=(0,c.C)(V.Z),r=(0,c.C)(Je.Z),o=((0,c.C)(I.Z),(0,c.C)(qe.pZ)),i=(0,c.C)(We),a=(0,c.C)(ze.Z),l=(0,c.C)(Ve),u=(0,c.C)(Ke.Z),s=(0,c.C)(Xe.Z),d=(0,c.C)(Qe.Z),f=[{method:function(){e((0,Ge.Z)({apolloClient:n}))},dependencies:[]},{method:function(){d||e((0,He.Z)({apolloClient:n}))},dependencies:[s,d]},{method:function(){e((0,Ze.ME)(JSON.parse(localStorage.getItem("userSubscriptions")||null)))},dependencies:[i]},{method:function(){var n=!!Object.keys(a||{}).find((function(e){var n;return null===a||void 0===a||null===(n=a[e])||void 0===n?void 0:n.find((function(e){var n;return"active"===(null===e||void 0===e?void 0:e.status)&&"circle plan"===(null===e||void 0===e||null===(n=e.name)||void 0===n?void 0:n.toLowerCase())}))}));e((0,Ze.cB)(n))},dependencies:[a]},{method:function(){if(t===be.J.SIGNEDIN){if(!(null===l||void 0===l?void 0:l.circleAddedToCart)||l.userSubscriptionId)e((0,Ze.LA)(null)),e((0,Ze.Ip)(""));else if(!(null===l||void 0===l?void 0:l.userSubscriptionId)&&o){var n=o.find((function(e){var n;return e.subPlanId===(null===l||void 0===l||null===(n=l.planPurchaseDetails)||void 0===n?void 0:n.subPlanId)}));n&&e((0,Ze.LA)(n))}e((0,Ze.Bo)(!!(null===l||void 0===l?void 0:l.subscriptionApplied)))}},dependencies:[l,o,t]},{method:function(){l&&o&&e((0,Ze.eX)(!0))},dependencies:[r,l]},{method:function(){!function(n){var t=function(e){n[e].filter((function(e){return"active"==(null===e||void 0===e?void 0:e.status)})).map((function(n){o.push("".concat(e,":").concat(null===n||void 0===n?void 0:n.plan_id))}))},o=[];for(var i in n)t(i);if(r){var a="APOLLO:".concat(r);o.push(a)}e((0,Ze.Iq)(o))}(a)},dependencies:[a,r]},{method:function(){u?(e((0,Ze.Ip)(null===u||void 0===u?void 0:u.subPlanId)),localStorage.setItem("CIRCLEPlan",JSON.stringify(u))):localStorage.removeItem("CIRCLEPlan"),t===be.J.SIGNEDIN?e((0,Ze.Bo)(!!(null===l||void 0===l?void 0:l.subscriptionApplied))):e((0,Ze.Bo)(!!u))},dependencies:[u,l,t]},{method:function(){t===be.J.SIGNEDIN&&e((0,Be.Z)({apolloClient:n}))},dependencies:[t]}];$e(f)},nn=function(e){return en(),(0,r.jsx)(r.Fragment,{children:e.children})},tn=t(92857),rn=t(44728),on=t(41664),an=t(52795),cn=t(75397),ln=t(18998),un=t(63093),sn=t(15144),dn=t(88385),fn=t(94153),vn=t(70954),pn=t.n(vn),hn=t(69274),mn=t(21810),gn=t(25424),yn=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.isPaymentPage})),bn=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.headerPincodeError})),_n=t(62745),Cn=t(33342),xn=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.showPincodeModal})),Sn=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){var n;return null===e||void 0===e||null===(n=e.thunkStatus)||void 0===n?void 0:n.currentLocation})),wn=t(80034),In=t(44266),Pn=t(7972),kn=t(3320);function Nn(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function jn(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Nn(i,r,o,a,c,"next",e)}function c(e){Nn(i,r,o,a,c,"throw",e)}a(void 0)}))}}function En(){return En=jn(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,n){var t=(0,rn.tp)(),r=function(n){var t=n.latitude,r=n.longitude;a.Z.dispatch((0,kn.Z)({currentLat:t,currentLong:r})),e(!0)},o=function(e){console.error(e.message),n(!0)};t!==rn.uc.PHONEPE_SWITCH?t!==rn.uc.PAYTM_MINIAPP?navigator.geolocation.getCurrentPosition((function(e){var n=e.coords,t=n.latitude,o=n.longitude;r({latitude:t,longitude:o})}),(function(e){o(e)}),dn.yp):(0,In.UZ)(r,o):(0,Pn.o)(r,o)}));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),En.apply(this,arguments)}var Zn=t(24477),An=(0,A.default)((function(){return t.e(6698).then(t.bind(t,56698)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[56698]}},ssr:!1}),Tn=(0,A.default)((function(){return t.e(2413).then(t.bind(t,82413)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[82413]}},ssr:!1}),Ln=function(e){var n=e.paymentPage,t=e.patientName;return(0,r.jsx)("span",{className:"".concat(pn().textEllipses," ").concat(pn().displayInlineBlk," ").concat(n?pn().noEllipses:""),children:t?"".concat(n?"Delivering":"Deliver"," to ").concat(t):"Hello,"})},On=function(e){var n=e.paymentPage,t=e.city,o=e.zipcode;return o||t?(0,r.jsx)(U.Typography,{className:"".concat(pn().textEllipses," ").concat(n?pn().noEllipses:""),children:"".concat(t||""," ").concat(o||"...")}):!n&&(0,r.jsx)(U.Typography,{children:"Select your location"})},Mn=function(e){var n=e.isMobile,t=e.pathname,i=e.miniAppUser,a=(0,o.useState)((function(){return function(){if((0,sn.j)()){var e=!localStorage.getItem("pharmaPincode");if(!sessionStorage.getItem("userVisitedBefore"))return sessionStorage.setItem("userVisitedBefore","yes"),e}return!1}()})),l=a[0],u=a[1],s=(0,c.C)(mn.Z),d=(0,c.C)($.Z),f=(0,c.C)(yn),v=(0,c.C)(bn),p=(0,c.C)(_.Z),m=(0,c.C)(_n.Z),g=(0,c.C)(h.Z),y=(0,c.C)(gn.Z),b=(0,c.C)(Cn.Z),C=(0,c.C)(xn),x=(0,c.C)(S),w=(0,c.C)(Sn),I=(0,c.C)((function(e){var n;return null===e||void 0===e||null===(n=e.cart)||void 0===n?void 0:n.medicineOrderAddressDetails})),k=(0,c.T)(),N=(null===d||void 0===d?void 0:d.length)>0&&d[d.length-1]||cn.l.LANDING,j=t===ae.r.medicinesCart()&&[cn.l.PRESCRIPTION].includes(N),E=(0,o.useState)(null),A=E[0],T=E[1],L=(0,o.useState)(""),O=L[0],M=L[1],D=(0,o.useState)(!1),R=D[0],F=D[1],Y=(0,o.useState)(!0),G=Y[0],H=Y[1],B=(0,o.useState)(""),J=B[0],q=B[1],W=(0,o.useState)(!1),z=W[0],V=W[1],K=(0,o.useState)(!1),Q=K[0],X=K[1],ee=function(e){(0,fn.Zi)(e===hn.R.AUTO?p:O).then((function(n){n.serviceable?(k((0,P.PJ)(!1)),k((0,P.bO)(!1)),k((0,P.ct)(!0)),e===hn.R.MANUAL?k((0,wn.Z)({address:O})):k((0,P.UY)(Z.g.fulfilled))):(k((0,P.ct)(!1)),k((0,P.bO)(!0)),k((0,P.ZS)(!1)))})).catch((function(e){console.error("Serviceability API failed",e),V(!0),q("Location is not serviceable :("),k((0,P.ct)(!1)),k((0,P.ZS)(!1))})).finally((function(){F(!1),u(!1)}))},ne=(0,o.useCallback)((function(e){k((0,P.ZS)(!0)),function(){return En.apply(this,arguments)}().then((function(e){e&&((0,Zn.Iw)(y),H(!1))})).catch((function(e){e&&(console.error("Geolocation API could not fetch current location"),V(!0),q("Current Location not detected :(")),k((0,P.ZS)(!1))}))}),[]),te=(0,o.useCallback)((function(e){k((0,P.PJ)(!0)),u(!1)}),[]),re=(0,o.useCallback)((function(e){u(!1),k((0,P.cf)(!0))}),[n]),oe=(0,o.useCallback)((function(){u(!1)}),[]);(0,o.useEffect)((function(){var e=(0,un.eY)("pincode");e&&(k((0,P.bO)(!1)),M(e),X(!0))}),[]),(0,o.useEffect)((function(){Q&&O&&(ie(),X(!1))}),[O,Q]),(0,o.useEffect)((function(){x===Z.g.rejected&&(V(!0),q("Something went wrong :("),k((0,P.UY)(Z.g.idle)))}),[x]),(0,o.useEffect)((function(){G||(w===Z.g.rejected?(console.error("Geolocation API could not fetch current location"),V(!0),q("Current Location not detected :("),H(!0),k((0,P.ZS)(!1))):w===Z.g.fulfilled&&(T("Location detected and updated"),H(!0),k((0,P.bO)(!1)),ee(hn.R.AUTO)))}),[w,G]);var ie=(0,o.useCallback)((function(){(0,Zn.Iw)(y),F(!0),k((0,P.ZS)(!0)),ee(hn.R.MANUAL)}),[O]);(0,o.useEffect)((function(){setTimeout((function(){oe()}),dn.Bv)}),[]);var ce=function(){(0,sn.j)()&&(window.scrollY>50&&oe())};return(0,o.useEffect)((function(){return(0,sn.j)()&&window.addEventListener("scroll",ce,!1),function(){window.removeEventListener("scroll",ce,!1)}}),[]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"".concat(pn().locationContainer," ").concat(i?pn().miniAppUser:""),children:[(0,r.jsxs)("div",{className:"".concat(f?pn().locationPay:pn().location," ").concat(l?pn().active:""),onClick:function(){u(!l)},children:[(0,r.jsxs)("div",{className:pn().selectLocation,children:[(0,r.jsx)(Ln,{paymentPage:f,patientName:f?(null===I||void 0===I?void 0:I.name)||"":(null===b||void 0===b?void 0:b.name)||(null===s||void 0===s?void 0:s.firstName)||""}),(0,r.jsx)(On,{paymentPage:f,city:f?(null===I||void 0===I?void 0:I.city)||"":(null===g||void 0===g?void 0:g.city)||m,zipcode:f?(null===I||void 0===I?void 0:I.zipcode)||"":(null===g||void 0===g?void 0:g.pincode)||p})]}),v&&(0,r.jsx)("div",{className:pn().noService,children:"Sorry, not serviceable here."}),l&&!f?(0,r.jsx)(an.Z,{onClickAway:oe,children:(0,r.jsxs)("div",{className:"".concat(pn().locationContent," ").concat(j?pn().disableLocationUpdate:""),children:[(0,r.jsxs)("div",{className:pn().currentLocation,onClick:ne,children:[(0,r.jsx)(ln.s,{src:"".concat(dn.Qr,"/images/ic_gps.svg"),alt:"location"}),(0,r.jsx)(U.Typography,{children:"Use my current location"})]}),(0,r.jsx)("div",{className:pn().divider,children:(0,r.jsx)(U.Typography,{children:"or"})}),(0,r.jsxs)("div",{className:pn().pincodeOption,onClick:te,children:[(0,r.jsx)("span",{className:pn()["icon-ic_location"]}),(0,r.jsx)(U.Typography,{children:p?"Update pincode (".concat(p,")"):"Enter delivery pincode"})]}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:pn().divider,children:(0,r.jsx)(U.Typography,{children:"or"})}),(0,r.jsxs)("div",{className:pn().pincodeOption,onClick:re,children:[(0,r.jsx)("span",{className:pn()["icon-ic_location"]}),(0,r.jsx)(U.Typography,{children:"Choose saved address"})]})]})]})}):null]}),C&&(0,r.jsx)(Tn,{headerPincodeError:v,showPincodeModal:C,closePincodeModal:function(){k((0,P.PJ)(!1)),k((0,P.bO)(!1))},updatePincode:function(e){k((0,P.bO)(!1)),M(e.target.value)},keyPressPincode:function(e){var n="Enter"===e.key;!n&&isNaN(parseInt(e.key,10))?e.preventDefault():n&&(null===O||void 0===O?void 0:O.length)===un.Zm&&ie()},pincode:O,submitPincode:ie,mutationLoading:R})]}),z&&(0,r.jsx)(An,{setAlertMessage:q,alertMessage:J,isAlertOpen:z,setIsAlertOpen:V}),(0,r.jsx)(U.Alerts,{placement:"top",open:!!A,severity:"success",message:A,onClick:function(){T(null)},autoHide:2e3})]})},Un=t(58053),Dn=t(10176),Rn=t.n(Dn),Fn=dn.iK.slice(0,8),Yn=[{menuItem:"Login",menuIcon:Rn()["icon-ic_account"],targetUrl:ae.r.signIn("/"),displayMode:[0],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"My Account",menuIcon:Rn()["icon-ic_account"],menuSubTitle:"",targetUrl:ae.r.myAccount(),displayMode:[1],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"Appointments",menuIcon:Rn()["icon-ic_appointments_selected"],targetUrl:"".concat(dn.en).concat(ae.r.appointments()),displayMode:[1],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"Doctors",menuIcon:Rn()["icon-ic_doctors"],menuSubTitle:"Consult Online",targetUrl:"".concat(dn.en).concat(ae.r.specialityListing()),displayMode:[0],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"Pharmacy",menuIcon:Rn()["icon-ic_medicines"],menuSubTitle:"Medicines & other products",targetUrl:ae.r.welcome(),displayMode:[0,1],largeText:!0,genrateIcon:!1,pathNameLink:""},{menuItem:"Lab Tests",menuIcon:Rn()["icon-ic_tests"],menuSubTitle:"Health check-ups",targetUrl:"".concat(dn.en).concat(ae.r.tests()),displayMode:[0,1],largeText:!1,genrateIcon:!1,pathNameLink:""},{menuItem:"Health Records",menuIcon:Rn()["icon-ic_myhealth"],targetUrl:"".concat(dn.en).concat(ae.r.healthRecords("prescription")),displayMode:[1],largeText:!1,genrateIcon:!0,pathNameLink:"iconPathsMyhealth"},{menuItem:"Blog",menuIcon:Rn()["icon-ic_covid"],menuSubTitle:"Latest Updates",targetUrl:ae.r.covidLanding(),displayMode:[0],largeText:!1,genrateIcon:!0,pathNameLink:"iconPathsCovid"}],Gn=function(e){var n=(0,c.C)(V.Z),t=(0,o.useState)(null),i=(t[0],t[1]),a=e.query,l=e.pathname,u=e.isMobile&&"/login"===l;(0,o.useEffect)((function(){var e=(0,un.eY)("utm_source"),t=(0,un.eY)("t");if(n===be.J.SIGNEDIN){t&&(t=encodeURIComponent(t));var r=e&&t?"?utm_source=".concat(e,"&t=").concat(t):null;i(r)}}),[n]);var s=function(e,t){var o,i;return(0,r.jsx)("li",{className:"".concat((null===e||void 0===e||null===(o=e.displayMode)||void 0===o?void 0:o.includes(0))&&e.largeText?Rn().addOn:""," \n            ").concat((null===e||void 0===e||null===(i=e.displayMode)||void 0===i?void 0:i.includes(1))&&n===be.J.SIGNEDIN?Rn().menuTitle:""," \n            ").concat(e.targetUrl===l?Rn().active:"","\n            "),children:(0,r.jsxs)("a",{href:e.targetUrl,children:[e.genrateIcon?(0,r.jsx)(Un.e,{pathName:Fn,iconClass:"".concat(e.menuIcon," ").concat(Rn().menuicon)}):(0,r.jsx)("i",{className:"".concat(e.menuIcon," ").concat(Rn().menuicon)}),(0,r.jsx)("p",{children:(null===a||void 0===a?void 0:a.hasOwnProperty("variant"))&&e.menuItem===un.vc.PHARMACY?un.vc.MEDICINE:e.menuItem}),n===be.J.SIGNEDOUT&&(0,r.jsx)("span",{className:Rn().subTitle,children:e.menuSubTitle})]})},t)};return(0,rn.hZ)((0,rn.tp)())||u?null:(0,r.jsxs)("ul",{className:Rn().navigationList,children:[n===be.J.SIGNEDIN&&Yn.filter((function(e){var n;return null===e||void 0===e||null===(n=e.displayMode)||void 0===n?void 0:n.includes(1)})).map((function(e,n){return s(e,n)})),(n===be.J.SIGNEDOUT||n===be.J.UNRESOLVED)&&Yn.filter((function(e){var n;return null===e||void 0===e||null===(n=e.displayMode)||void 0===n?void 0:n.includes(0)})).map((function(e,n){return s(e,n)}))]})},Hn=t(15549),Bn=t.n(Hn);var Jn=(0,A.default)((function(){return t.e(2804).then(t.bind(t,42804)).then((function(e){return e.default}))}),{loadableGenerated:{webpack:function(){return[42804]}},ssr:!1}),qn=function(e){var n=e.ua,t=void 0===n?null:n,o=e.isPDPPage,i=void 0!==o&&o,a=(0,c.C)(V.Z),l=(0,c.C)(ne.jn),u=(0,c.C)(yn),s=(0,F.useRouter)(),f=s.query,v=Boolean(null===t||void 0===t?void 0:t.isMobile),p=(0,c.T)(),h=(0,rn.hZ)((0,rn.tp)()),m=!v||h;return function(e,n){return[{path:"/medicines-cart",mobile:!0,desktop:!1},{path:"/orders",mobile:!0,desktop:!1},{path:"/brands",mobile:!0,desktop:!1},{path:"/shop-by",mobile:!1,desktop:!1},{path:"/medicine-prescription",mobile:!0,desktop:!1},{path:"/medical-stores",mobile:!0,desktop:!0},{path:"/otc",mobile:!1,desktop:!1},{path:"/mockPay",mobile:!0,desktop:!0},{path:"/return-request",mobile:!0,desktop:!1}].filter((function(e){var t=e.mobile,r=e.desktop;return n?t:r})).findIndex((function(n){var t=n.path;return new RegExp(t,"i").test(e)}))>=0}(s.asPath,v)?null:(0,r.jsx)("header",{id:"fixedHeaderCT",className:Bn().header,children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:"".concat(Bn().headerContent," ").concat(h?Bn().miniAppUser:""),children:[(0,r.jsxs)("div",{className:Bn().logoWrapper,children:[(0,r.jsx)("h1",{children:(0,r.jsx)(on.default,{href:ae.r.welcome(),prefetch:!1,children:(0,r.jsx)("a",{className:Bn().logo,children:(0,r.jsx)("img",{src:"".concat(D.Qr,"/images/pharmacy_logo.svg"),title:"Online Doctor Consultation & Medicines",alt:"Online Doctor Consultation & Medicines",width:"100%",height:"100%"})})})}),(0,r.jsx)(Mn,{isMobile:v,pathname:s.pathname,miniAppUser:h})]}),!u&&(0,r.jsxs)("div",{className:Bn().menuContainer,children:[(0,r.jsx)("div",{className:Bn().specialOffer,children:v&&(0,r.jsx)(r.Fragment,{children:i?(0,r.jsx)("button",{type:"button",className:Bn().searchBtn,onClick:function(){return p((0,d.wz)(!0))},children:(0,r.jsx)("i",{className:"icon-ic-search"})}):(0,r.jsx)(on.default,{href:ae.r.specialOffers(),prefetch:!1,children:(0,r.jsx)("a",{children:(0,r.jsx)("span",{className:"icon-offer-icon"})})})})}),(0,r.jsx)(Gn,{query:f,isMobile:v,pathname:s.pathname}),(0,r.jsxs)("div",{className:Bn().cartContainer,children:[(0,r.jsx)("span",{className:"icon-ic_cart",onClick:function(){return s.push(s.asPath.includes("/deal")?"".concat(ae.r.medicinesCart(),"?source=Deal page"):ae.r.medicinesCart())}}),(0,r.jsx)("span",{className:Bn().badge,children:l.length||0})]}),m&&(0,r.jsx)("div",{className:Bn().userOptions,children:a===be.J.SIGNEDIN?(0,r.jsx)(Jn,{}):(0,r.jsx)(tn.L,{children:function(e){var n=e.protectWithLoginRedirection;return(0,r.jsx)("span",{className:Bn().userCircle,onClick:function(){n()},children:(0,r.jsx)("i",{className:"icon-ic_account_white"})})}})})]})]})})})},Wn=t(72174),zn=t.n(Wn),Vn=dn.iK.slice(0,3),Kn=dn.iK.slice(0,5),Qn=dn.iK.slice(0,7),Xn=function(e){var n=e.footerData,t=e.isMobile,i=[];n&&(i=Object.keys(n));var a=(0,F.useRouter)(),c=(0,o.useState)(""),l=c[0],u=c[1],s=(0,o.useState)(!1),d=s[0],f=s[1];return(0,o.useEffect)((function(){f(t)}),[]),(0,rn.hZ)((0,rn.tp)())?null:(0,r.jsx)("footer",{children:(0,r.jsx)("div",{className:"container",children:(0,r.jsxs)("div",{className:zn().footerContent,children:[(0,r.jsx)("div",{className:zn().accordionContainer,children:i&&i.map((function(e,t){var o="".concat(e,"-").concat(t),i=!d||l===o;return(0,r.jsxs)("div",{className:zn().accordion,children:[(0,r.jsxs)("div",{className:zn().accordionHeader,onClick:function(){return d&&u(l===o?"":o)},children:[(0,r.jsx)("h2",{className:zn().title,children:a.query.hasOwnProperty("variant")&&(null===e||void 0===e?void 0:e.includes(un.vc.PHARMACY))?e.replace(un.vc.PHARMACY,un.vc.MEDICINE):e}),(0,r.jsx)("span",{className:"".concat(zn().expandIcon," ").concat(i?zn().active:"")})]}),(0,r.jsx)("div",{className:"".concat(i?zn().accordionBody:zn().displayNone),children:(0,r.jsx)("ul",{className:zn().footerLinks,children:n[e].map((function(e){var n;return e?(0,r.jsx)("li",{children:(0,r.jsx)("a",{className:zn().innerLinks,href:e.url,target:"_blank",rel:"noopener noreferrer",children:a.query.hasOwnProperty("variant")&&(null===e||void 0===e||null===(n=e.title)||void 0===n?void 0:n.includes(un.vc.PHARMACY))?e.title.replace(un.vc.PHARMACY,un.vc.MEDICINE):e.title})},e.title):null}))})})]},o)}))}),(0,r.jsxs)("div",{className:zn().footerLinksWrap,children:[(0,r.jsx)("div",{className:zn().footerLogo,children:(0,r.jsx)(on.default,{href:"/",prefetch:!1,children:(0,r.jsx)("a",{children:(0,r.jsx)(ln.s,{src:"".concat(dn.Qr,"/images/apollopharmacy/logo.svg"),alt:"Online Doctor Consultation & Medicines",style:{width:"100px",height:"90px"}})})})}),(0,r.jsxs)("div",{className:zn().socialLinkContainer,children:[!d&&(0,r.jsx)("h2",{className:zn().title,children:"Find Us"}),(0,r.jsxs)("ul",{className:zn().socialLink,children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://www.facebook.com/ApolloPharmacy",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("span",{className:"icon-Facebook"})})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://twitter.com/ApolloPharmacy",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("span",{className:"icon-twitter-6"})})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:dn.at,target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)("span",{className:"icon-Linkedin"})})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://www.youtube.com/user/ApolloPharmacy",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(Un.e,{pathName:Vn,iconClass:"icon-youtube-icon"})})})]})]}),(0,r.jsxs)("div",{className:zn().downloadAppContainer,children:[!d&&(0,r.jsx)("h2",{className:zn().title,children:"Get Apollo Mobile App"}),(0,r.jsxs)("ul",{className:zn().appLinks,children:[(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://play.google.com/store/apps/details?id=com.apollo.patientapp&hl=en_IN",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(Un.e,{pathName:Kn,iconClass:"icon-google-play-btn"})})}),(0,r.jsx)("li",{children:(0,r.jsx)("a",{href:"https://apps.apple.com/in/app/apollo-247/id1496740273",target:"_blank",rel:"noopener noreferrer",children:(0,r.jsx)(Un.e,{pathName:Qn,iconClass:"icon-ios-app-btn"})})})]})]})]})]})})})},$n=t(45977),et=t(52663),nt=t(66856),tt=t(66083),rt=t(82285),ot=t(91555),it=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.miniAppErrorCode})),at=t(52951);function ct(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}var lt=o.forwardRef((function(e,n){return(0,r.jsx)(rt.Z,function(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){ct(e,n,t[n])}))}return e}({direction:"up",ref:n},e))})),ut=function(e){var n=(0,c.T)(),t=(0,c.C)(V.Z),i=(0,c.C)(it),a=(0,o.useState)((0,In.rZ)(i)),l=a[0],u=a[1],s=-1===i?"Consent is mandatory to proceed":-2===i?"Login in Paytm to Proceed with the Flow":"";return(0,o.useEffect)((function(){u((0,In.rZ)(i))}),[i]),(0,r.jsx)(r.Fragment,{children:i?(0,r.jsxs)(et.Z,{open:l,TransitionComponent:lt,keepMounted:!0,onClose:function(){},children:[(0,r.jsx)(tt.Z,{id:"alert-dialog-slide-title",children:s}),(0,r.jsxs)(nt.Z,{children:[(0,r.jsx)(U.Button,{onClick:function(){var e,r=null===window||void 0===window||null===(e=window.location)||void 0===e?void 0:e.pathname;u(!1),n((0,at.IK)(0)),(0,ot.Z)(r,t)},color:"primary",children:"Proceed"}),(0,r.jsx)(U.Button,{onClick:In.Go,color:"secondary",children:"Exit"})]})]}):""})},st=function(e){var n=(0,rn.tp)();return(0,r.jsx)(r.Fragment,{children:n===rn.uc.PAYTM_MINIAPP&&(0,r.jsx)(ut,{})})},dt=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.prescriptions}),(function(e){return null===e||void 0===e?void 0:e.prescriptionUploaded})),ft=t(60893),vt=t(78616),pt=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.prescriptions}),(function(e){return null===e||void 0===e?void 0:e.updatedEPrescription})),ht=t(23497),mt=t(78067);function gt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function yt(e){return function(e){if(Array.isArray(e))return gt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return gt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return gt(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var bt=t.e(9483).then(t.t.bind(t,69483,23)).then((function(e){return e.default})),_t=function(){var e=(0,c.T)(),n=(0,k.x)(),t=(0,c.C)(mn.Z),r=(0,c.C)(dt),i=(0,c.C)(ft.gN),a=(0,c.C)(vt.MC),l=(0,c.C)(pt),u=(0,c.C)(ie.N9);(0,o.useEffect)((function(){var o,c,s=(null===t||void 0===t?void 0:t.id)||"";if((null===r||void 0===r||null===(o=r.fileName)||void 0===o?void 0:o.length)&&!s&&i){var d=yt(i).concat([r]);e((0,ht.wC)(d)),e((0,ht.eO)(mt.$))}if(a&&l&&!s&&(bt.then((function(e){return e.setItem("ePrescriptionData",a,(function(e){e&&(0,ke.Z)("ePrescriptionData","localForage","write",e)}))})),e((0,ht.cm)(!1))),s&&((null===r||void 0===r||null===(c=r.fileName)||void 0===c?void 0:c.length)||l)){var f=[r].filter((function(e){var n=e.baseFormat,t=e.fileUrl;return n&&t})),v=a.filter((function(e){return e.fileUrl}));ye({physicalPrescriptionsSelectedByUser:f,ePrescriptionsSelectedByUser:v,cartInputPayload:null,currentPatient:t,serverPrescriptions:u,apolloClient:n}),e((0,ht.eO)(mt.$)),e((0,ht.cm)(!1))}}),[r,a,l,t])},Ct=function(e){return _t(),(0,r.jsx)(r.Fragment,{children:e.children})},xt=t(91322),St=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.ssoToken})),wt=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.tokenRefresh})),It=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.tokenRecievedFetchPatients})),Pt=(0,f.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.newUser})),kt=t(28951),Nt=t(82694),jt=t(77243),Et=t(46495),Zt=t(74153),At=t(98825),Tt=t(29030),Lt=t(48702),Ot=t(48216);function Mt(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function Ut(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Dt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Ut(e,n,t[n])}))}return e}function Rt(e){return function(e){if(Array.isArray(e))return Mt(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(!e)return;if("string"===typeof e)return Mt(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);"Object"===t&&e.constructor&&(t=e.constructor.name);if("Map"===t||"Set"===t)return Array.from(t);if("Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Mt(e,n)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var Ft={},Yt=new Lt.i((function(e,n){return new Ot.y((function(t){var r,o=e.getContext(),i=n(e).subscribe({next:function(){for(var e=arguments.length,n=new Array(e),o=0;o<e;o++)n[o]=arguments[o];return(r=t).next.apply(r,Rt(n))},error:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o;a(),(o=t).error.apply(o,Rt(n))},complete:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var o;a(),(o=t).complete.apply(o,Rt(n))}}),a=function(){null===i||void 0===i||i.unsubscribe(),delete Ft[o.requestTrackerId]};if(o.requestTrackerId){var c,l=new AbortController;if(l.signal.onabort=a,e.setContext(Dt({},o,{fetchOptions:Dt({signal:l.signal},null===o||void 0===o?void 0:o.fetchOptions)})),Ft[o.requestTrackerId])null===(c=Ft[o.requestTrackerId])||void 0===c||c.abort();Ft[o.requestTrackerId]=l}return i}))}));function Gt(e,n){for(var t=0;t<n.length;t++){var r=n[t];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ht(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Bt(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Ht(e,n,t[n])}))}return e}var Jt="development"!==D.lC&&"test"!==D.lC&&"production"!==D.lC,qt="development"===D.lC,Wt=function(){function e(n,t,r,o){!function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e),this.buildApolloClient(n,t,r,o)}var n,t,r;return n=e,t=[{key:"buildApolloClient",value:function(e,n,t,r){var o=(0,Tt.q)((function(e){var n=e.graphQLErrors,t=e.operation,o=e.forward;return(Jt||qt)&&console.error(e),n&&n.some((function(e){var n;return"UNAUTHENTICATED"===(null===(n=e.extensions)||void 0===n?void 0:n.code)}))&&r(),o(t)})),i=(0,At.v)((function(n,t){return{headers:Bt({},t.headers,{Authorization:e||D.L$})}})),a=(0,Nt.L)({uri:D.zt}),c=(0,jt.D)([Yt,o,i,a]),l=this.getClient(),u=l?l.cache:new Et.h;this.apolloClient=new Zt.f({link:c,cache:u}),e&&!n&&t()}},{key:"getClient",value:function(){return this.apolloClient}}],r=[{key:"updateAuthToken",value:function(e){this.authToken=e}},{key:"updateTokenRefresh",value:function(e){this.tokenRefresh=e}},{key:"createInstance",value:function(n,t,r,o){this.gqlClient=new e(n,t,r,o)}},{key:"getInstance",value:function(e,n,t,r){return this.gqlClient&&this.authToken===e&&this.tokenRefresh===n||(this.updateAuthToken(e),this.updateTokenRefresh(n),this.createInstance(e,n,t,r)),this.gqlClient}}],t&&Gt(n.prototype,t),r&&Gt(n,r),e}();Wt.gqlClient=null,Wt.authToken="",Wt.tokenRefresh=!1;var zt=Wt,Vt=t(28343),Kt=t(65534);function Qt(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function Xt(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Qt(i,r,o,a,c,"next",e)}function c(e){Qt(i,r,o,a,c,"throw",e)}a(void 0)}))}}function $t(e){return er.apply(this,arguments)}function er(){return er=Xt(q().mark((function e(n){var t,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.apolloClient,r=n.mobileNumber,e.next=3,t.query({query:de.C1,variables:{mobileNumber:r},fetchPolicy:"no-cache"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),er.apply(this,arguments)}function nr(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function tr(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){nr(i,r,o,a,c,"next",e)}function c(e){nr(i,r,o,a,c,"throw",e)}a(void 0)}))}}function rr(e){return or.apply(this,arguments)}function or(){return or=tr(q().mark((function e(n){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.apolloClient,e.next=3,t.query({query:de.qf,fetchPolicy:"no-cache"});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),or.apply(this,arguments)}var ir=t(13311),ar=t.n(ir);function cr(e,n){(0,Kt.P1)({category:"Profile",action:"Register / Login",label:"Register"}),(0,Kt.nx)({event:"UserLoggedIn",Type:e?"Register":"Login","User ID":n})}function lr(e){var n=(e||[]).find((function(e){return(null===e||void 0===e?void 0:e.relation)===oe.or.ME}));return null===n||void 0===n?void 0:n.id}var ur=t(90303),sr=t(75077);function dr(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function fr(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){dr(i,r,o,a,c,"next",e)}function c(e){dr(i,r,o,a,c,"throw",e)}a(void 0)}))}}function vr(){return vr=fr(q().mark((function e(n){var t,r,o,c,l,u,s,d,f,v,p,h,m,g,y,b,_,C,x,S,w,I;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=n.apolloClient,o=n.mobileNumber,c={apolloClient:r,mobileNumber:o},e.next=6,$t(c);case 6:if(null===(l=e.sent)||void 0===l||null===(t=l.errors)||void 0===t?void 0:t.length){e.next=29;break}if(null===(d=null===l||void 0===l||null===(u=l.data)||void 0===u||null===(s=u.getPatientByMobileNumber)||void 0===s?void 0:s.patients)||void 0===d?void 0:d.length){e.next=27;break}return h={apolloClient:r},e.next=15,rr(h);case 15:if(m=e.sent,g=null===m||void 0===m||null===(f=m.data)||void 0===f||null===(v=f.getCurrentPatients)||void 0===v?void 0:v.patients,y=null===g||void 0===g||null===(p=g[0])||void 0===p?void 0:p.id){e.next=20;break}throw"User Id Not Found";case 20:localStorage.setItem("currentUser",y),b={patientId:y,apolloClient:r},(0,i.dC)((function(){a.Z.dispatch((0,ur.Z)(b)),a.Z.dispatch((0,at.N2)(y)),a.Z.dispatch((0,at.w5)(g)),a.Z.dispatch((0,at.ih)(be.J.SIGNEDIN)),a.Z.dispatch((0,at.Po)(!1))})),cr(n.isNewUser,y),(0,Kt.Gf)({userId:y,isApolloCustomer:!1,profileFetchedCount:1}),e.next=28;break;case 27:_=lr(d),C=localStorage.getItem("currentUser"),(0,i.dC)((function(){if((null===C||void 0===C?void 0:C.length)||_){var e=d.map((function(e){return e.id}))||[];_&&!(null===e||void 0===e?void 0:e.includes(C))?(localStorage.setItem("currentUser",_),a.Z.dispatch((0,at.N2)(_))):a.Z.dispatch((0,at.N2)(C))}a.Z.dispatch((0,at.w5)(d)),a.Z.dispatch((0,at.ih)(be.J.SIGNEDIN)),a.Z.dispatch((0,at.Po)(!1))})),cr(n.isNewUser,_||C),_&&(x=d?d.find((function(e){return e.id===C})):null,(0,xt.Wu)(x),null===(null===(S=ar()(d||[],(function(e){var n;return"me"===(null===e||void 0===e||null===(n=e.relation)||void 0===n?void 0:n.toLowerCase())})))||void 0===S?void 0:S.uhid)&&(w=(0,un.eY)("utm_source"),I=(0,un.eY)("t"),F.default.push("".concat(ae.r.signIn("/"),"&utm_source=").concat(w,"&t=").concat(encodeURIComponent(I)))));case 28:a.Z.dispatch((0,at.BQ)(!1));case 29:e.next=36;break;case 31:e.prev=31,e.t0=e.catch(0),console.error("fire base calls error",e.t0),a.Z.dispatch((0,at.Po)(!0)),(0,sr.Z)();case 36:case"end":return e.stop()}}),e,null,[[0,31]])}))),vr.apply(this,arguments)}var pr=t(82402);function hr(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function mr(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){hr(i,r,o,a,c,"next",e)}function c(e){hr(i,r,o,a,c,"throw",e)}a(void 0)}))}}function gr(e){return yr.apply(this,arguments)}function yr(){return(yr=mr(q().mark((function e(n){var t,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.grant_type,r=n.refresh_token,e.next=3,(0,pr.Z)("https://securetoken.googleapis.com/v1/token?key=".concat(D.Du),"POST",{grant_type:t,refresh_token:r},"",!0);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function br(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function _r(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){br(i,r,o,a,c,"next",e)}function c(e){br(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Cr(e){return xr.apply(this,arguments)}function xr(){return xr=_r(q().mark((function e(n){var t,r,o,c,l;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.apolloClient,r=n.tokenJustGotRefetched,o=function(){var e={dispatchSignOutUpdates:function(){(0,Vt.Z)({apolloClient:t})}};kt.Z.getInstance().signOut(e)},c={grant_type:"refresh_token",refresh_token:localStorage.getItem("refreshToken")},e.prev=3,e.next=6,gr(c);case 6:(null===(l=e.sent)||void 0===l?void 0:l.refresh_token)&&localStorage.setItem("refreshToken",l.refresh_token),(0,i.dC)((function(){r&&a.Z.dispatch((0,at.c4)(!0)),a.Z.dispatch((0,at.xm)(l.id_token))})),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(3),console.error("The id token fetch failed",e.t0),o();case 15:case"end":return e.stop()}}),e,null,[[3,11]])}))),xr.apply(this,arguments)}var Sr=t(75505);function wr(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function Ir(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){wr(i,r,o,a,c,"next",e)}function c(e){wr(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Pr(){return kr.apply(this,arguments)}function kr(){return(kr=Ir(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,pr.Z)("".concat(D.Vo,"/api/fetchAuthToken"),"GET",{},"",!0,"","",null,"include");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nr(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function jr(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){Nr(i,r,o,a,c,"next",e)}function c(e){Nr(i,r,o,a,c,"throw",e)}a(void 0)}))}}function Er(){return(Er=jr(q().mark((function e(){var n,t,r,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Pr();case 2:n=e.sent,t=null===n||void 0===n?void 0:n.response,r=null===t||void 0===t?void 0:t.mobileNumber,o=null===t||void 0===t?void 0:t.authToken,r&&o?(localStorage.setItem("mobile_num",r),a.Z.dispatch((0,at.LM)(o))):a.Z.dispatch((0,at.ih)(be.J.SIGNEDOUT));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Zr,Ar=t(64478),Tr=function(e){var n=(0,c.T)(),t=(0,c.C)(St),r=(0,c.C)(gn.Z),i=(0,c.C)(wt),a=(0,c.C)(It),l=((0,c.C)(K.QD),(0,c.C)(I.Z),(0,c.C)(mn.Z)),u=(0,c.C)(Pt),s=function(){n((0,at.rj)(!0))},d=function(){var n={dispatchSignOutUpdates:function(){(0,Vt.Z)({apolloClient:e})}};kt.Z.getInstance().signOut(n)};return e=(0,o.useMemo)((function(){return zt.getInstance(r,i,s,d).getClient()}),[r]),(0,o.useEffect)((function(){var n=localStorage.getItem("mobile_num")||"";(null===n||void 0===n?void 0:n.length)>0&&"null"!==n&&a&&function(e){vr.apply(this,arguments)}({isNewUser:u,apolloClient:e,mobileNumber:n})}),[a]),(0,o.useEffect)((function(){if(t){var r=localStorage.getItem("refreshToken"),o={dispatchUpdateAuthToken:function(e){n((0,at.xm)(e))},dispatchUpdateNewUser:function(e){n((0,at.o$)(e))}};(null===r||void 0===r?void 0:r.length)&&"undefined"!==r&&"null"!==r?Cr({apolloClient:e,tokenJustGotRefetched:!1}):kt.Z.getInstance().customSignIn(t,o),setInterval((function(){return Cr({apolloClient:e,tokenJustGotRefetched:!0})}),D.xm)}}),[t]),(0,o.useEffect)((function(){var e,t,r,o=new URLSearchParams(null===window||void 0===window||null===(e=window.location)||void 0===e?void 0:e.search),i=o.get("utm_token"),a=o.get("refresh_token"),c=o.get("utm_mobile_number"),l=o.get("utm_source"),u=o.get("t");if(!!(null===window||void 0===window||null===(t=window.location)||void 0===t||null===(r=t.search)||void 0===r?void 0:r.length)&&(i||a)&&c)!function(e,t,r){var o,i=e||"",a=t||"";if(null===(o=null===r||void 0===r?void 0:r.trim())||void 0===o?void 0:o.length){var c="+"===r.trim()[0]?"".concat(r.trim()):"+".concat(r.trim());localStorage.setItem("mobile_num",c),a?(localStorage.setItem("refreshToken",a),n((0,at.LM)("true"))):i&&(localStorage.setItem("refreshToken",i),n((0,at.xm)(i)))}}(i,a,c);else if(l&&u)!function(e){try{var n;sessionStorage.setItem("utm_source",e),(0,Sr.Z)({ssoPlatform:e,redirectURL:(null===window||void 0===window||null===(n=window.location)||void 0===n?void 0:n.pathname)||ae.r.medicines()})}catch(t){console.error("External Login Error",t)}}(l);else{var s=localStorage.getItem("refreshToken");(null===s||void 0===s?void 0:s.length)&&"undefined"!==s&&"null"!==s?n((0,at.LM)("true")):function(){Er.apply(this,arguments)}()}n((0,at.BQ)(!1)),(0,xt.jl)()}),[]),(0,o.useEffect)((function(){(null===l||void 0===l?void 0:l.mobileNumber)&&n((0,Ar.Z)({apolloClient:e,mobileNumber:null===l||void 0===l?void 0:l.mobileNumber}))}),[null===l||void 0===l?void 0:l.id]),e},Lr=t(63314),Or=function(e){var n=e.apolloClient,t=e.children;return(0,r.jsx)(Lr.eT,{client:n,children:(0,r.jsx)(k.e,{client:n,children:(0,r.jsx)(r.Fragment,{children:t})})})},Mr=function(e){return Zr=Tr(Zr),(0,r.jsx)(Or,{apolloClient:Zr,children:(0,r.jsx)(r.Fragment,{children:e.children})})};function Ur(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function Dr(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},r=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),r.forEach((function(n){Ur(e,n,t[n])}))}return e}var Rr=(0,l.Z)(Dr({},$n.Z)),Fr=function(e){var n=e.Component,t=e.pageProps,i="true"===t.userDeviceIdentifier,a=!!t.isPaymentPage,l=!!t.isPDPPage,f=t.ua,v=(0,c.T)();return(0,o.useEffect)((function(){return function(){v((0,d.s9)(null))}}),[]),(0,r.jsxs)(u.Z,{theme:Rr,children:[(0,r.jsx)(s.default,{children:(0,r.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"})}),(0,r.jsx)(Mr,{children:(0,r.jsx)(nn,{children:(0,r.jsx)(Ye,{children:(0,r.jsx)(Ct,{children:(0,r.jsxs)(M,{ua:f,isPaymentPage:a,children:[t.isAMPpage?null:!i&&(0,r.jsx)(qn,{isPDPPage:l,ua:f}),(0,r.jsx)(st,{}),(0,r.jsx)(n,Dr({},t)),t.footerLinks&&t.ua&&!t.isAMPpage&&!i&&(0,r.jsx)(Xn,{footerData:t.footerLinks,isMobile:Boolean(null===f||void 0===f?void 0:f.isMobile)})]})})})})})]})},Yr=function(e){var n=e.Component,t=e.pageProps;return(0,sn.j)(),(0,r.jsx)(i.zt,{store:a.Z,children:(0,r.jsx)(Fr,{Component:n,pageProps:t})})}},28343:function(e,n,t){"use strict";t.d(n,{Z:function(){return v}});var r=t(34051),o=t.n(r),i=t(91322),a=t(65534),c=t(99210),l=t(11163),u=t(75077),s=t(92885);function d(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function f(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){d(i,r,o,a,c,"next",e)}function c(e){d(i,r,o,a,c,"throw",e)}a(void 0)}))}}function v(e){return p.apply(this,arguments)}function p(){return(p=f(o().mark((function e(n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.apolloClient.clearStore(),(0,a.P1)({category:"Profile",action:"Logout",label:"Logout"}),(0,a.nx)({event:"UserLoggedOut"}),(0,i.bW)(),Object.keys(localStorage).forEach((function(e){"WZRK_"===e.substring(0,5)||"email_CT"===e||s.Is.includes(e)||localStorage.removeItem(e)})),(0,u.Z)(),l.default.push(c.r.medicines());case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},75077:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r=t(34051),o=t.n(r),i=t(9473),a=t(3644),c=t(52951),l=t(68424),u=t(84093),s=t(82798),d=t(45867);function f(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function v(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){f(i,r,o,a,c,"next",e)}function c(e){f(i,r,o,a,c,"throw",e)}a(void 0)}))}}function p(){return h.apply(this,arguments)}function h(){return(h=v(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.removeItem("refreshToken"),localStorage.removeItem("mobile_num"),localStorage.removeItem("currentUser"),(0,i.dC)((function(){a.Z.dispatch((0,c.xm)("")),a.Z.dispatch((0,c.LM)("")),a.Z.dispatch((0,c.c4)(!1)),a.Z.dispatch((0,c.ih)(s.J.SIGNEDOUT)),a.Z.dispatch((0,c.N2)("")),a.Z.dispatch((0,c.w5)([])),a.Z.dispatch((0,u.xt)("")),a.Z.dispatch((0,u.yA)([])),a.Z.dispatch((0,u.m$)(!1)),a.Z.dispatch((0,c.rj)(!1)),a.Z.dispatch((0,c.jc)(null)),a.Z.dispatch((0,l.Z)()),a.Z.dispatch((0,d.r$)([]))}));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},75505:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var r=t(34051),o=t.n(r),i=t(99210),a=t(63093),c=t(44266),l=t(7972),u=t(11163),s=t(3644),d=t(48567),f=t(52951),v=t(15144),p=t(1098);function h(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function m(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){h(i,r,o,a,c,"next",e)}function c(e){h(i,r,o,a,c,"throw",e)}a(void 0)}))}}function g(e){return y.apply(this,arguments)}function y(){return(y=m(o().mark((function e(n){var t,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.token,r=n.ssoPlatform,(0,v.j)()&&t&&localStorage.setItem("utm_source",(0,a.eY)("utm_source")),i={externalAuthToken:t,ssoPlatform:r},s.Z.dispatch((0,p.Z)(i));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function b(e,n,t,r,o,i,a){try{var c=e[i](a),l=c.value}catch(u){return void t(u)}c.done?n(l):Promise.resolve(l).then(r,o)}function _(e){return function(){var n=this,t=arguments;return new Promise((function(r,o){var i=e.apply(n,t);function a(e){b(i,r,o,a,c,"next",e)}function c(e){b(i,r,o,a,c,"throw",e)}a(void 0)}))}}function C(e){return x.apply(this,arguments)}function x(){return(x=_(o().mark((function e(n){var t,r,v,p,h,m,y;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=n.ssoPlatform,r=n.redirectURL,e.t0=t,e.next=e.t0===d.x.PHONEPE_MINIAPP?4:e.t0===d.x.PAYTM_MINIAPP?12:27;break;case 4:return e.next=6,(0,l._3)();case 6:if((v=e.sent)!==l.R9){e.next=10;break}return u.default.push(i.r.signIn(r)),e.abrupt("return");case 10:return g({token:v,ssoPlatform:t}),e.abrupt("break",31);case 12:return e.next=15,(0,c.hI)();case 15:if(h=e.sent,m=null===h||void 0===h||null===(p=h.data)||void 0===p?void 0:p.authId,!(null===h||void 0===h?void 0:h.error)||m||!(0,c.rZ)(null===h||void 0===h?void 0:h.error)){e.next=22;break}return s.Z.dispatch((0,f.IK)(null===h||void 0===h?void 0:h.error)),e.abrupt("return");case 22:if(m){e.next=25;break}return u.default.push(i.r.signIn(r)),e.abrupt("return");case 25:return g({token:m,ssoPlatform:t}),e.abrupt("break",31);case 27:return y=(0,a.eY)("t"),(0,a.eY)("utm_source")&&y&&(sessionStorage.setItem("t",y),g({token:y,ssoPlatform:t})),e.abrupt("break",31);case 31:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},92857:function(e,n,t){"use strict";t.d(n,{L:function(){return u}});var r=t(82798),o=t(99210),i=(t(67294),t(21605)),a=t(991),c=t(43100),l=t(91555),u=function(e){var n=(0,i.C)(a.Z),t=(0,i.C)(c.Z),u=n===r.J.SIGNEDOUT&&!t;return e.children({protectWithLoginRedirection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(u){var t,r=e||(null===window||void 0===window||null===(t=window.location)||void 0===t?void 0:t.pathname)||o.r.medicines();(0,l.Z)(r,n)}},isProtected:u})}},43100:function(e,n,t){"use strict";var r=t(88683);n.Z=(0,r.Yh)((function(e){return null===e||void 0===e?void 0:e.auth}),(function(e){return null===e||void 0===e?void 0:e.isSigningIn}))},91555:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var r=t(82798),o=t(99210),i=t(63093),a=t(44728),c=t(11163),l=t(92885),u=t(75505),s=t(48567);function d(e,n){if(n!==r.J.SIGNEDIN){var t=e||o.r.welcome();if((0,i.eY)("utm_source")!==s.x.MS_TEAMS){switch((0,a.tp)()){case a.uc.PHONEPE_SWITCH:return void(0,u.Z)({ssoPlatform:s.x.PHONEPE_MINIAPP,redirectURL:t});case a.uc.PAYTM_MINIAPP:return void(0,u.Z)({ssoPlatform:s.x.PAYTM_MINIAPP,redirectURL:t})}l.SU.includes(t)||c.default.push(o.r.signIn(t))}else(0,u.Z)({ssoPlatform:s.x.MS_TEAMS,redirectURL:t})}}},67139:function(e,n,t){"use strict";var r=t(88683);n.Z=(0,r.Yh)((function(e){return null===e||void 0===e?void 0:e.cart}),(function(e){return null===e||void 0===e?void 0:e.serverCartErrorMessage}))},95335:function(e,n,t){"use strict";var r=t(88683);n.Z=(0,r.Yh)((function(e){return null===e||void 0===e?void 0:e.cart}),(function(e){return null===e||void 0===e?void 0:e.showCouponSuccessApplied}))},83371:function(e,n,t){"use strict";var r=t(88683);n.Z=(0,r.Yh)((function(e){return null===e||void 0===e?void 0:e.cart}),(function(e){return null===e||void 0===e?void 0:e.userActionPayload}))},62745:function(e,n,t){"use strict";var r=t(88683);n.Z=(0,r.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.city}))},91068:function(e,n,t){"use strict";var r=t(88683);n.Z=(0,r.Yh)((function(e){return null===e||void 0===e?void 0:e.location}),(function(e){return null===e||void 0===e?void 0:e.editAddressId}))},36866:function(e,n,t){"use strict";var r=t(88683);n.Z=(0,r.Yh)((function(e){return null===e||void 0===e?void 0:e.subscriptions}),(function(e){return null===e||void 0===e?void 0:e.userSubscriptions}))},72174:function(e){e.exports={container:"Footer_container__9LsNz",footerContent:"Footer_footerContent__VIrkr",accordionContainer:"Footer_accordionContainer__2q4UN",accordion:"Footer_accordion__pWwmD",accordionHeader:"Footer_accordionHeader__ZC8Zb",accordionBody:"Footer_accordionBody__LRc3b",title:"Footer_title__pTg3I",footerLinks:"Footer_footerLinks__ByCq8",footerLogo:"Footer_footerLogo__xtvS9",footerLinksWrap:"Footer_footerLinksWrap__sZMGE",socialLink:"Footer_socialLink__0e52y",appLinks:"Footer_appLinks__W11Hj",downloadAppContainer:"Footer_downloadAppContainer__Sd2Ph",socialLinkContainer:"Footer_socialLinkContainer__wGnD1",expandIcon:"Footer_expandIcon__IENhM",active:"Footer_active__WVG_6",displayNone:"Footer_displayNone__RKOxJ"}},15549:function(e){e.exports={header:"Header_header__6Bc2a",headerContent:"Header_headerContent__wqr4M",logoWrapper:"Header_logoWrapper__m0fhl",logo:"Header_logo__fNpPT",menuContainer:"Header_menuContainer__9NmSf",cartContainer:"Header_cartContainer__cStGj",badge:"Header_badge__IUqLU",userOptions:"Header_userOptions__IXgav",userCircle:"Header_userCircle__FKMNm",userActive:"Header_userActive__W1CyJ",specialOffer:"Header_specialOffer__mpZtI",searchBtn:"Header_searchBtn__5ofV1",miniAppUser:"Header_miniAppUser__vBLgX"}},10176:function(e){e.exports={navigationList:"Navigation_navigationList__JJmA6",subTitle:"Navigation_subTitle__9wj8h",menuicon:"Navigation_menuicon__tDu_u",addOn:"Navigation_addOn__SZCpi",widthAuto:"Navigation_widthAuto__yNa80",menuTitle:"Navigation_menuTitle__E1bVk",active:"Navigation_active__OKRTo","icon-ic_medicines":"Navigation_icon-ic_medicines__qHMMQ","icon-ic_account":"Navigation_icon-ic_account__T0GlM","icon-ic_tests":"Navigation_icon-ic_tests__IjEjF","icon-ic_appointments_selected":"Navigation_icon-ic_appointments_selected__5yG_h","icon-ic_myhealth":"Navigation_icon-ic_myhealth__FvY0_","icon-ic_doctors":"Navigation_icon-ic_doctors__m0tDz","icon-ic_covid":"Navigation_icon-ic_covid__mQDn1"}},28078:function(e){e.exports={windowBody:"ServerCartManager_windowBody__nQdYm",successPopoverWindow:"ServerCartManager_successPopoverWindow__lXfs_",windowWrap:"ServerCartManager_windowWrap__77hoF",mascotIcon:"ServerCartManager_mascotIcon__nV_nY",actions:"ServerCartManager_actions__qHlZ6",button:"ServerCartManager_button__MnKb4",saveAddressMain:"ServerCartManager_saveAddressMain__aWDbH",saveAddressMainTitle:"ServerCartManager_saveAddressMainTitle__aTTNO",saveAddressMainMidSection:"ServerCartManager_saveAddressMainMidSection__RRT56",cardListMain:"ServerCartManager_cardListMain___3k2L",dialogBox:"ServerCartManager_dialogBox__8FK4Z",dialogBoxEditAddress:"ServerCartManager_dialogBoxEditAddress__Isza7",HeaderStrip:"ServerCartManager_HeaderStrip__9TdN7"}},70954:function(e){e.exports={locationContainer:"LocationSearch_locationContainer__iHSc5",miniAppUser:"LocationSearch_miniAppUser__0tOn7",selectLocation:"LocationSearch_selectLocation__D7apI",location:"LocationSearch_location__mQ_gi",active:"LocationSearch_active__lhFIV",locationPay:"LocationSearch_locationPay__bHlna",locationContent:"LocationSearch_locationContent__MgP69",currentLocation:"LocationSearch_currentLocation__Hk68o",pincodeOption:"LocationSearch_pincodeOption__CU_7J",divider:"LocationSearch_divider__sDGUE",pincodeData:"LocationSearch_pincodeData__O0WkH",pinModalTitle:"LocationSearch_pinModalTitle__TJx8q",bottomActions:"LocationSearch_bottomActions__oWEfA",submitBtn:"LocationSearch_submitBtn__DAFdq",disabledBtn:"LocationSearch_disabledBtn__8NEqt",pincodeError:"LocationSearch_pincodeError__BtYkz",noService:"LocationSearch_noService__8SsYS",textEllipses:"LocationSearch_textEllipses__9bDDB",noEllipses:"LocationSearch_noEllipses__VfDfW",displayInlineBlk:"LocationSearch_displayInlineBlk__PQzOd",disableLocationUpdate:"LocationSearch_disableLocationUpdate__HvGdm",pincodeWrap:"LocationSearch_pincodeWrap__7_Rk9","icon-ic_location":"LocationSearch_icon-ic_location__5zbMi"}},41664:function(e,n,t){e.exports=t(48418)},220:function(e,n,t){"use strict";var r=t(67294);n.Z=r.createContext(null)}}]);